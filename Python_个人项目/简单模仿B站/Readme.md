# 简单模仿B站

一个使用Flask开发的简单视频分享网站，模仿B站的基本功能，包括视频上传、播放、评论和搜索等。

## 功能特点

- **视频上传**：支持多种视频格式上传（mp4, avi, mov, wmv, flv, webm）
- **视频播放**：内置视频播放器，支持播放控制
- **评论系统**：用户可以对视频发表评论
- **搜索功能**：支持按标题和描述搜索视频
- **视频封面**：自动从img文件夹中随机选择图片作为封面，或使用占位图
- **视频管理**：支持视频删除功能
- **响应式设计**：使用TailwindCSS实现响应式界面
- **B站风格UI**：模仿B站的界面风格和交互体验

## 技术架构

- **后端框架**：Flask
- **数据库**：SQLite
- **前端技术**：HTML, CSS (TailwindCSS), JavaScript
- **视频处理**：使用FFmpeg提取视频缩略图
- **模板引擎**：Jinja2

## 安装和运行

1. **安装依赖**
   ```bash
   pip install flask
   ```

2. **安装FFmpeg**（用于提取视频缩略图）
   - Windows: 从 https://ffmpeg.org/download.html 下载并添加到PATH
   - macOS: `brew install ffmpeg`
   - Linux: `sudo apt-get install ffmpeg` 或 `sudo yum install ffmpeg`

3. **创建必要的文件夹**
   ```bash
   mkdir uploads thumbnails img
   ```

4. **准备封面图片**
   在`img`文件夹中放入一些图片文件（JPG或PNG格式），这些图片将作为视频的随机封面使用。

5. **运行应用**
   ```bash
   python app.py
   ```

6. **访问应用**
   打开浏览器访问 `http://localhost:5000`

## 文件结构

```
简单模仿B站/
├── app.py              # Flask应用主文件
├── videos.db           # SQLite数据库文件（运行后自动生成）
├── uploads/            # 存储上传的视频文件
├── thumbnails/         # 存储视频缩略图
└── img/                # 存储视频封面图片
```

## 使用说明

### 首页
- 显示所有视频列表，按上传时间倒序排列
- 每个视频卡片显示标题、上传时间、播放量等信息
- 点击视频卡片可进入视频播放页面

### 上传视频
1. 点击页面右上角的"投稿"按钮
2. 填写视频标题和简介
3. 选择要上传的视频文件
4. 点击"立即投稿"按钮

### 视频播放
- 播放视频内容
- 显示视频标题、简介、上传时间
- 可以在评论区发表评论
- 支持删除视频功能（视频上传者）

### 搜索功能
- 在顶部搜索框输入关键词
- 搜索范围包括视频标题和描述
- 显示匹配的视频结果

### 评论系统
- 用户可以对视频发表评论
- 评论显示用户名、时间
- 评论按时间倒序排列

## 数据库结构

项目使用SQLite数据库，包含以下表：

- `videos`表：存储视频信息（ID、标题、描述、视频URL、封面URL、上传时间）
- `comments`表：存储评论信息（ID、视频ID、作者、内容、评论时间）

## 定制化

### 更换主题颜色
项目使用B站风格的粉色（#fb7299）和蓝色（#00a1d6）主题，可以在CSS中修改这些颜色值来自定义外观。

### 添加功能
- 用户认证系统
- 视频分类功能
- UP主系统
- 点赞/收藏功能
- 视频推荐算法

## 注意事项

1. 上传的视频文件会存储在`uploads`文件夹中
2. 视频封面会从`img`文件夹中随机选择
3. 如果`img`文件夹为空，会使用占位图服务生成封面
4. 删除视频时会同时删除视频文件和相关评论
5. 项目仅供学习使用，不适用于生产环境

## 许可证

此项目为个人项目，仅供学习和参考使用。