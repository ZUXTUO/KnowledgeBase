# 图片文档加密工具V1.0

一个使用RSA加密算法和数字盲水印技术的图像/文档加密工具，支持PDF转图像、图像加密、解密和盲水印嵌入提取功能。

## 功能特点

- **RSA加密**：使用2048位RSA密钥对图像进行加密
- **多格式支持**：支持常见图像格式（PNG、JPG、BMP、GIF）和PDF文档
- **PDF处理**：自动将PDF转换为图像进行加密
- **数字盲水印**：可选择在图像中嵌入数字盲水印
- **安全解密**：使用私钥安全解密图像文件
- **图像查看器**：内置图像查看器，支持缩放、翻页等操作
- **多线程处理**：支持多线程加密解密，提高处理效率
- **进度显示**：实时显示操作进度和日志信息

## 技术架构

- **编程语言**：Python 3.x
- **GUI框架**：tkinter
- **加密算法**：RSA 2048位非对称加密
- **图像处理**：PIL/Pillow
- **PDF处理**：PyMuPDF (fitz)
- **数字水印**：blind-watermark库
- **加密库**：cryptography

## 安装依赖

```bash
pip install pillow cryptography pypdf2  # 基础功能
pip install PyMuPDF                     # PDF转换功能（可选）
pip install blind-watermark             # 数字盲水印功能（可选）
```

## 使用方法

### 1. 生成密钥对

- 点击菜单栏"文件" -> "生成新的RSA密钥对"
- 设置私钥密码并保存私钥文件（.pem格式）
- 保存公钥文件（.pub格式）

### 2. 加载密钥

- 加密：加载公钥文件
- 解密：加载私钥文件

### 3. 图像加密

- 选择"图像加密"标签页
- 点击"选择文件"按钮选择图像或PDF文件
- 输入签名人名称
- 可选择"添加数字盲水印"
- 点击"加密并保存"按钮

### 4. 图像解密

- 选择"图像解密"标签页
- 点击"选择加密文件"选择.osep格式的加密文件
- 点击"解密并查看"按钮

### 5. 盲水印提取

- 在"图像解密"标签页中找到"从普通图像文件中提取数字盲水印"
- 选择包含盲水印的图像文件
- 可选择暴力破解模式或指定水印长度
- 点击"提取水印"按钮

## 文件格式

- **OSEP格式**：加密后的文件格式，包含图像数据和元信息
- **密钥格式**：私钥使用PEM格式，公钥使用SubjectPublicKeyInfo格式

## 安全特性

- 使用RSA-OAEP填充方案确保加密安全性
- 密钥文件使用PKCS#8格式并用密码保护
- 支持数字盲水印，提供额外的身份验证
- 加密文件包含机器ID和创建时间戳

## 应用场景

- **公务文档保护**：对敏感文档进行加密存储和传输
- **图像版权保护**：通过盲水印验证图像来源
- **数据安全传输**：确保图像数据在传输过程中的安全性
- **数字资产管理**：对重要图像资源进行加密管理

## 注意事项

1. 请妥善保管私钥文件和私钥密码
2. 解密时需要与加密时相同的密钥对
3. 盲水印功能需要安装blind-watermark库
4. PDF处理功能需要安装PyMuPDF库
5. 加密后的文件包含元数据，不要修改文件格式

## 限制与约束

- 单个加密文件大小受内存限制
- 盲水印长度建议在100-200字符之间
- 解密时需要准确的水印长度参数
- 依赖外部库可能存在兼容性问题

## 许可证

此项目为个人项目，仅供学习和参考使用。