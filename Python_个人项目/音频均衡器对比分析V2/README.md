# 音频均衡器对比分析V2

一个功能强大的音频处理工具，能够通过对比两个音频文件的频谱差异，生成均衡器设置，并将这些设置应用到其他音频文件上。

## 功能特性

- **音频频谱分析**：高精度对比两个音频文件的频谱差异
- **均衡器设置提取**：从频谱差异中提取31频段均衡器设置
- **均衡器应用**：将提取的均衡器设置应用到目标音频文件
- **完整工作流**：支持从分析到应用的完整处理流程
- **批量处理**：支持批量应用均衡器设置到多个音频文件
- **预设均衡器**：内置多种音乐风格的预设均衡器
- **GUI界面**：直观的图形用户界面，便于操作
- **可视化**：实时显示音频频谱对比和均衡器响应曲线

## 技术特点

- **高精度频谱分析**：使用STFT和高斯平滑算法进行精确的频谱分析
- **对数频率分布**：采用对数频率分布，符合人耳听觉特性
- **重叠相加法**：使用重叠相加算法进行高质量的频域处理
- **多格式支持**：支持WAV、FLAC、MP3等多种音频格式
- **立体声处理**：支持立体声和单声道音频处理

## 文件说明

- `main.py`：主程序文件，包含完整的GUI界面和所有核心功能
- `eq_settings.json`：示例均衡器设置文件
- `eq_settings_high.json`：高精度均衡器设置文件

## 安装依赖

```bash
pip install numpy librosa soundfile scipy matplotlib tkinter
```

## 使用方法

### 1. 分析模式
- 选择原始音频文件（未经处理的音频）
- 选择处理后音频文件（应用了某些效果的音频）
- 指定输出的均衡器设置JSON文件路径
- 点击"开始分析"按钮
- 程序将自动分析频谱差异并生成均衡器设置

### 2. 应用模式
- 选择已有的均衡器设置JSON文件
- 选择要应用效果的输入音频文件
- 指定输出音频文件路径
- 设置主增益（可选）
- 点击"开始应用"按钮

### 3. 工作流模式
- 提供原始音频、处理后音频和目标音频
- 程序自动分析原始音频和处理后音频的差异
- 将提取的均衡器设置应用到目标音频
- 一步完成分析和应用过程

### 4. 批量处理
- 选择均衡器设置文件
- 选择包含多个音频文件的输入文件夹
- 选择输出文件夹
- 程序将自动处理文件夹中的所有音频文件

### 5. 预设均衡器
- 从预设列表中选择音乐风格（摇滚、流行、古典、人声、低频增强等）
- 生成相应的预设均衡器设置文件

## 配置选项

- **频段数量**：可调整均衡器频段数量（默认31频段）
- **位深度**：可选择16、24或32位输出
- **主增益**：可调整应用均衡器后的整体增益

## 应用场景

- **音频匹配**：将一个音频的处理效果应用到另一个音频
- **音色分析**：分析不同音频处理软件的效果差异
- **批量处理**：对多个音频文件应用相同的均衡器设置
- **音效制作**：创建和应用特定的音效预设

## 注意事项

- 分析模式需要两个相似内容的音频文件（如同一首歌的不同处理版本）
- 建议使用无损音频格式以获得最佳效果
- 处理大型音频文件时可能需要较长时间
- 输出音频会自动进行响度限制以避免削波